#!/usr/bin/env python
# coding: utf-8

import argparse

## Import some helper functions, you can see their definitions by uncomenting the bash shell command
from desispec.scripts.reformat_proctables import update_processing_tables


def get_parser():
    """
    Creates an arguments parser for the desi_reformat_processing_tables script
    """
    parser = argparse.ArgumentParser(usage = "{prog} [options]")
    parser.add_argument("-n", "--nights", type=str,  default=None, help="nights as comma separated string")
    parser.add_argument("--night-range", type=str, default=None, help="comma separated pair of nights in form YYYYMMDD,YYYYMMDD"+\
                                                                      "for first_night,last_night specifying the beginning"+\
                                                                      "and end of a range of nights to be generated. "+\
                                                                      "last_night should be inclusive.")
    parser.add_argument("--orig-filetype", type=str, default='csv', help="format type for original exposure tables")
    parser.add_argument("--out-filetype", type=str, default='csv', help="format type for output exposure tables")
    parser.add_argument("--dry-run", action="store_true",
                        help="Perform a dry run, printing the changes that would be made and the final output table "+
                             "but not overwriting the actual files on disk.")
    return parser



if __name__ == '__main__':
    parser = get_parser()
    args = parser.parse_args()

    update_processing_tables(**args.__dict__)